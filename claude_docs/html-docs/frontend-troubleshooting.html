<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Issues & Solutions - XOS Framework</title>
    <link rel="icon" type="image/png" href="xos-docs.png">
    <link rel="shortcut icon" type="image/png" href="xos-docs.png">
    <link rel="apple-touch-icon" href="xos-docs.png">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-dark.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body data-theme="dark">
    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <!-- Theme Toggle Button -->
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                <i class="bi bi-moon-fill" id="theme-icon"></i>
                <span id="theme-text">Dark</span>
            </button>
            
            <h3><i class="bi bi-arrow-left"></i> Navigation</h3>
            <ul>
                <li><a href="index.html"><i class="bi bi-house"></i> Documentation Hub</a></li>
                <li><a href="CRITICAL_PATTERNS.html"><i class="bi bi-exclamation-triangle"></i> Critical Patterns</a></li>
                <li><a href="xos-input-handling-fix.html"><i class="bi bi-tools"></i> Input Fix Guide</a></li>
                <li><a href="CLAUDE-PROMPT-QUICK-REFERENCE.html"><i class="bi bi-clipboard"></i> Quick Reference</a></li>
            </ul>
            
            <h3><i class="bi bi-bug"></i> Issue Categories</h3>
            <ul>
                <li><a href="#critical-issues"><i class="bi bi-exclamation-octagon"></i> Critical Issues</a></li>
                <li><a href="#xos-component-issues"><i class="bi bi-puzzle"></i> XOS Component Issues</a></li>
                <li><a href="#react-jsx-issues"><i class="bi bi-code-slash"></i> React & JSX Issues</a></li>
                <li><a href="#api-integration"><i class="bi bi-cloud-arrow-up"></i> API Integration</a></li>
                <li><a href="#styling-css"><i class="bi bi-palette"></i> Styling & CSS</a></li>
                <li><a href="#performance"><i class="bi bi-speedometer"></i> Performance</a></li>
                <li><a href="#state-management"><i class="bi bi-diagram-3"></i> State Management</a></li>
                <li><a href="#forms-inputs"><i class="bi bi-ui-checks"></i> Forms & Inputs</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <h1><i class="bi bi-bug"></i> Frontend Issues & Solutions</h1>
            
            <div class="alert alert-info">
                <h3>About This Guide</h3>
                <p>This document tracks frontend-related issues encountered during XOS framework development and their solutions. Use this as a reference for XOS components, React patterns, and UI development.</p>
            </div>

            <section id="critical-issues">
                <h2><i class="bi bi-exclamation-octagon"></i> CRITICAL: React Compilation Errors with XOS Components</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4><i class="bi bi-exclamation-triangle"></i> Module not found - react-color and fast-sort</h4>
                        <div class="alert alert-critical">
                            <p><strong>Error Messages:</strong></p>
                            <div class="code-block">
                                <pre>Module not found: Error: Can't resolve 'react-color' in 'XOSColorPicker'
Module not found: Error: Can't resolve 'fast-sort' in 'XOSGrid'</pre>
                            </div>
                        </div>
                        <p><strong>Root Cause:</strong> XOS components have dependencies that aren't installed by default</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Solution - Install Dependencies</span>
                                <button class="copy-btn" onclick="copyCode(this, 'install-deps')">Copy</button>
                            </div>
                            <pre id="install-deps">cd CVS_Claude.WebApi/UIPages
npm install react-color fast-sort --save</pre>
                        </div>
                        <p><strong>Prevention:</strong> Always install these packages when setting up a new XOS project</p>
                    </div>

                    <div class="nav-card">
                        <h4><i class="bi bi-file-earmark-x"></i> Cannot import theme.css from outside src directory</h4>
                        <div class="alert alert-warning">
                            <p><strong>Error Message:</strong></p>
                            <div class="code-block">
                                <pre>Module not found: Error: You attempted to import ../../../assets/css/theme.css which falls outside of the project src/ directory</pre>
                            </div>
                        </div>
                        <p><strong>Root Cause:</strong> Create React App restricts imports to files within src/ directory</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Solution - Copy theme.css</span>
                                <button class="copy-btn" onclick="copyCode(this, 'copy-theme')">Copy</button>
                            </div>
                            <pre id="copy-theme">cp D:\Projects\CVS_Claude\assets\css\theme.css D:\Projects\CVS_Claude\CVS_Claude.WebApi\UIPages\src\theme.css</pre>
                        </div>
                        <p>Then import in App.js:</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Import Statement</span>
                                <button class="copy-btn" onclick="copyCode(this, 'import-theme')">Copy</button>
                            </div>
                            <pre id="import-theme">import './theme.css';</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4><i class="bi bi-keyboard"></i> XOSTextbox onChange not working</h4>
                        <p><strong>Symptoms:</strong> Input value doesn't update when typing</p>
                        <p><strong>Root Cause:</strong> XOSTextbox passes <code>{value}</code> object, not standard event</p>
                        
                        <div class="alert alert-critical">
                            <p><strong>Wrong Code:</strong></p>
                            <div class="code-block">
                                <pre>handleChange(event) {
    this.setState({ value: event.target.value }); // Won't work!
}</pre>
                            </div>
                        </div>
                        
                        <div class="alert alert-success">
                            <p><strong>Correct Code:</strong></p>
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Correct XOSTextbox Handler</span>
                                    <button class="copy-btn" onclick="copyCode(this, 'correct-handler')">Copy</button>
                                </div>
                                <pre id="correct-handler">handleChange(e) {
    this.setState({ value: e.value }); // e.value, not e.target.value
}</pre>
                            </div>
                        </div>
                        
                        <p><strong>Pattern:</strong> Always use <code>e.value</code> with XOS components, not <code>e.target.value</code></p>
                    </div>

                    <div class="nav-card">
                        <h4><i class="bi bi-puzzle-fill"></i> XOSComponent not found after import</h4>
                        <p><strong>Error:</strong> <code>XOSComponent is not defined</code></p>
                        
                        <div class="alert alert-critical">
                            <p><strong>Wrong Import:</strong></p>
                            <div class="code-block">
                                <pre>import { XOSComponent } from '../../xos-components/XOSComponent.js';</pre>
                            </div>
                        </div>
                        
                        <div class="alert alert-success">
                            <p><strong>Correct Import:</strong></p>
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Correct XOS Import</span>
                                    <button class="copy-btn" onclick="copyCode(this, 'correct-import')">Copy</button>
                                </div>
                                <pre id="correct-import">import * as cntrl from '../../xos-components';
// Then use: cntrl.XOSComponent</pre>
                            </div>
                        </div>
                        
                        <p><strong>Best Practice:</strong> Always import XOS components as namespace (cntrl)</p>
                    </div>
                </div>
            </section>

            <section id="xos-component-issues">
                <h2><i class="bi bi-puzzle"></i> XOS Component Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>XOS Component State Not Updating UI</h4>
                        <p><strong>Symptoms:</strong> UI doesn't reflect state changes after data modification</p>
                        <p><strong>Root Cause:</strong> Forgot to call VM.updateUI() after state changes</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Correct Pattern</span>
                                <button class="copy-btn" onclick="copyCode(this, 'updateui-pattern')">Copy</button>
                            </div>
                            <pre id="updateui-pattern">// Correct pattern
this.VM.Data.Input.Name = "New Name";
this.VM.updateUI(); // Essential for XOS framework</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>XOS Components Not Loading Correctly</h4>
                        <p><strong>Symptoms:</strong> Components render as empty or show [object Object]</p>
                        <p><strong>Root Cause:</strong> Component not properly extending XOSComponent base class</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Correct XOS Component Structure</span>
                                <button class="copy-btn" onclick="copyCode(this, 'xos-structure')">Copy</button>
                            </div>
                            <pre id="xos-structure">class CustomerMaster extends React.Component {
    constructor(props) {
        super(props);
        this.VM = new CustomerMasterVM(this);
        XOSComponent.call(this, props, this.VM);
    }
}</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>XOS ViewModels Not Initializing Data</h4>
                        <p><strong>Symptoms:</strong> VM.Data properties are undefined or null</p>
                        <p><strong>Root Cause:</strong> Data not initialized in ViewModel constructor</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Correct ViewModel Initialization</span>
                                <button class="copy-btn" onclick="copyCode(this, 'vm-init')">Copy</button>
                            </div>
                            <pre id="vm-init">constructor(componentRef) {
    super(componentRef);
    this.Data = {
        Input: {
            ID: 0,
            Name: '',
            Email: ''
        },
        Output: {
            Items: [],
            TotalCount: 0
        }
    };
}</pre>
                        </div>
                        <p><strong>Pattern:</strong> Initialize complete data structure in VM constructor</p>
                    </div>
                </div>
            </section>

            <section id="react-jsx-issues">
                <h2><i class="bi bi-code-slash"></i> React & JSX Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>React Hooks Not Working in XOS Components</h4>
                        <p><strong>Symptoms:</strong> useState, useEffect not functioning as expected</p>
                        <p><strong>Root Cause:</strong> XOS components use class-based approach, not functional components</p>
                        <p><strong>Solution:</strong> Use XOS ViewModel pattern instead of React hooks</p>
                        <p><strong>Pattern:</strong> Use VM.Data for state management instead of React hooks</p>
                    </div>

                    <div class="nav-card">
                        <h4>Event Handlers Not Working</h4>
                        <p><strong>Symptoms:</strong> Button clicks, form submissions not triggering</p>
                        <p><strong>Root Cause:</strong> Event handlers not bound correctly or missing this context</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Correct Event Handler Binding</span>
                                <button class="copy-btn" onclick="copyCode(this, 'event-binding')">Copy</button>
                            </div>
                            <pre id="event-binding">// Correct binding
<button onClick={() => this.VM.handleSave()}>Save</button>
// or
<button onClick={this.VM.handleSave.bind(this.VM)}>Save</button></pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>Component Re-rendering Issues</h4>
                        <p><strong>Symptoms:</strong> Components not updating when props change</p>
                        <p><strong>Root Cause:</strong> Not implementing componentDidUpdate properly in XOS pattern</p>
                        <p><strong>Solution:</strong> Implement proper lifecycle methods and use VM.updateUI()</p>
                        <p><strong>Pattern:</strong> Use XOS lifecycle methods instead of React lifecycle</p>
                    </div>
                </div>
            </section>

            <section id="api-integration">
                <h2><i class="bi bi-cloud-arrow-up"></i> API Integration Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>API Calls Not Working from Frontend</h4>
                        <p><strong>Symptoms:</strong> Network errors, CORS issues, or no response</p>
                        <p><strong>Root Cause:</strong> Incorrect API endpoint URLs or CORS configuration</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Correct API Call Pattern</span>
                                <button class="copy-btn" onclick="copyCode(this, 'api-call')">Copy</button>
                            </div>
                            <pre id="api-call">const response = await Utils.ajax({
    url: '/api/userlogin/getall',
    method: 'GET',
    headers: {
        'Authorization': `Bearer ${token}`
    }
});</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>Authentication Tokens Not Sent</h4>
                        <p><strong>Symptoms:</strong> 401 Unauthorized errors on authenticated endpoints</p>
                        <p><strong>Root Cause:</strong> Authorization header not included in requests</p>
                        <p><strong>Solution:</strong> Ensure token included in all authenticated requests</p>
                        <p><strong>Pattern:</strong> Use Utils.ajax for consistent authentication header handling</p>
                    </div>

                    <div class="nav-card">
                        <h4>Large Payloads Causing UI Freeze</h4>
                        <p><strong>Symptoms:</strong> UI becomes unresponsive during large data operations</p>
                        <p><strong>Root Cause:</strong> Synchronous processing of large datasets</p>
                        <p><strong>Solution:</strong> Implement pagination and async processing</p>
                        <p><strong>Pattern:</strong> Always paginate large datasets and show loading indicators</p>
                    </div>
                </div>
            </section>

            <section id="styling-css">
                <h2><i class="bi bi-palette"></i> Styling & CSS Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>XOS Components Not Styled Correctly</h4>
                        <p><strong>Symptoms:</strong> Components appear unstyled or have incorrect appearance</p>
                        <p><strong>Root Cause:</strong> XOS stylesheet not loaded or incorrect CSS classes</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Import XOS Styles</span>
                                <button class="copy-btn" onclick="copyCode(this, 'import-styles')">Copy</button>
                            </div>
                            <pre id="import-styles">import '../xos-components/index.css';</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>Bootstrap Conflicts with XOS Styles</h4>
                        <p><strong>Symptoms:</strong> XOS components have incorrect styling when Bootstrap is present</p>
                        <p><strong>Root Cause:</strong> CSS specificity conflicts</p>
                        <p><strong>Solution:</strong> Load XOS styles after Bootstrap, or use CSS modules</p>
                        <p><strong>Pattern:</strong> Manage CSS loading order to prevent conflicts</p>
                    </div>

                    <div class="nav-card">
                        <h4>Responsive Design Not Working</h4>
                        <p><strong>Symptoms:</strong> UI doesn't adapt to different screen sizes</p>
                        <p><strong>Root Cause:</strong> Missing responsive CSS classes or viewport meta tag</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Viewport Meta Tag</span>
                                <button class="copy-btn" onclick="copyCode(this, 'viewport-meta')">Copy</button>
                            </div>
                            <pre id="viewport-meta"><meta name="viewport" content="width=device-width, initial-scale=1"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="performance">
                <h2><i class="bi bi-speedometer"></i> Performance Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>Slow Component Rendering</h4>
                        <p><strong>Symptoms:</strong> Components take long time to load or update</p>
                        <p><strong>Root Cause:</strong> Heavy operations in render methods or unnecessary re-renders</p>
                        <p><strong>Solution:</strong> Move heavy operations to componentDidMount or useEffect equivalents</p>
                        <p><strong>Pattern:</strong> Keep render methods lightweight, use memoization when needed</p>
                    </div>

                    <div class="nav-card">
                        <h4>Memory Leaks in XOS Components</h4>
                        <p><strong>Symptoms:</strong> Memory usage growing over time</p>
                        <p><strong>Root Cause:</strong> Event listeners not cleaned up or intervals not cleared</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Cleanup Resources</span>
                                <button class="copy-btn" onclick="copyCode(this, 'cleanup-resources')">Copy</button>
                            </div>
                            <pre id="cleanup-resources">componentWillUnmount() {
    if (this.interval) {
        clearInterval(this.interval);
    }
    // Clean up other resources
}</pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="state-management">
                <h2><i class="bi bi-diagram-3"></i> State Management Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>State Changes Not Persisting</h4>
                        <p><strong>Symptoms:</strong> UI state resets after navigation or page refresh</p>
                        <p><strong>Root Cause:</strong> State only stored in component memory</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Persist State</span>
                                <button class="copy-btn" onclick="copyCode(this, 'persist-state')">Copy</button>
                            </div>
                            <pre id="persist-state">// Persist important state
XOSStateManager.setState('userPreferences', this.VM.Data.Preferences);</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>State Synchronization Between Components</h4>
                        <p><strong>Symptoms:</strong> Components show inconsistent data</p>
                        <p><strong>Root Cause:</strong> No shared state management</p>
                        <p><strong>Solution:</strong> Use XOSStateManager for shared state or implement proper data flow</p>
                        <p><strong>Pattern:</strong> Use centralized state management for shared data</p>
                    </div>
                </div>
            </section>

            <section id="forms-inputs">
                <h2><i class="bi bi-ui-checks"></i> Form & Input Issues</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>Form Validation Not Working</h4>
                        <p><strong>Symptoms:</strong> Invalid forms can be submitted</p>
                        <p><strong>Root Cause:</strong> Validation not implemented or configured incorrectly</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Form Validation Pattern</span>
                                <button class="copy-btn" onclick="copyCode(this, 'form-validation')">Copy</button>
                            </div>
                            <pre id="form-validation">validateForm() {
    const errors = [];
    if (!this.Data.Input.Name) {
        errors.push("Name is required");
    }
    if (!this.Data.Input.Email || !this.isValidEmail(this.Data.Input.Email)) {
        errors.push("Valid email is required");
    }
    return errors;
}</pre>
                        </div>
                    </div>

                    <div class="nav-card">
                        <h4>File Upload Not Working</h4>
                        <p><strong>Symptoms:</strong> File selection or upload fails</p>
                        <p><strong>Root Cause:</strong> Incorrect form encoding or file handling</p>
                        <div class="code-block">
                            <div class="code-header">
                                <span>File Upload Pattern</span>
                                <button class="copy-btn" onclick="copyCode(this, 'file-upload')">Copy</button>
                            </div>
                            <pre id="file-upload"><form encType="multipart/form-data">
    <input type="file" onChange={this.VM.handleFileSelect.bind(this.VM)} />
</form></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="xos-patterns">
                <h2><i class="bi bi-diagram-2"></i> XOS-Specific Patterns</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>Component Creation Pattern</h4>
                        <ol>
                            <li>Create Component class extending React.Component</li>
                            <li>Create ViewModel class extending VMBase</li>
                            <li>Initialize ViewModel in component constructor</li>
                            <li>Call XOSComponent constructor</li>
                            <li>Implement render method using VM.Data</li>
                        </ol>
                    </div>

                    <div class="nav-card">
                        <h4>Data Flow Pattern</h4>
                        <ol>
                            <li>User interaction triggers VM method</li>
                            <li>VM method updates VM.Data</li>
                            <li>VM method calls this.updateUI()</li>
                            <li>Component re-renders with new data</li>
                        </ol>
                    </div>

                    <div class="nav-card">
                        <h4>API Integration Pattern</h4>
                        <ol>
                            <li>Use Utils.ajax for all API calls</li>
                            <li>Handle loading states in VM</li>
                            <li>Update VM.Data with response</li>
                            <li>Call updateUI() after data changes</li>
                        </ol>
                    </div>
                </div>
            </section>

            <section id="using-this-guide">
                <h2><i class="bi bi-info-circle"></i> How to Use This Guide</h2>
                
                <div class="nav-grid">
                    <div class="nav-card">
                        <h4>Troubleshooting Steps</h4>
                        <ol>
                            <li><strong>Search for Symptoms:</strong> Look for similar symptoms to your current issue</li>
                            <li><strong>Apply the Pattern:</strong> Focus on the underlying pattern rather than exact code</li>
                            <li><strong>Test the Solution:</strong> Verify the solution works in your specific context</li>
                            <li><strong>Update This Guide:</strong> Add new issues you encounter and solve</li>
                        </ol>
                    </div>

                    <div class="nav-card">
                        <h4>Contributing to This Guide</h4>
                        <p>When adding new issues:</p>
                        <ol>
                            <li>Focus on XOS framework-specific problems</li>
                            <li>Include code examples for complex solutions</li>
                            <li>Explain the underlying pattern for reuse</li>
                            <li>Reference XOS documentation when relevant</li>
                        </ol>
                    </div>
                </div>
            </section>

            <div class="footer">
                <p><em>Frontend Troubleshooting Guide - Version 2.1.0</em><br>
                <em>Last Updated: August 21, 2025</em></p>
                
                <p><strong>Related Guides:</strong> <a href="CRITICAL_PATTERNS.html">Critical Patterns</a> | <a href="xos-input-handling-fix.html">Input Fix Guide</a> | <a href="CLAUDE-PROMPT-QUICK-REFERENCE.html">Quick Reference</a></p>
            </div>
        </main>
    </div>

    <script>
        // Copy code functionality
        function copyCode(button, codeId) {
            const codeElement = document.getElementById(codeId);
            const text = codeElement.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Collapsible sections
        function toggleCollapsible(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('expanded');
        }

        // Theme Toggle Functionality
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            const currentTheme = body.getAttribute('data-theme');
            
            if (currentTheme === 'dark') {
                body.setAttribute('data-theme', 'light');
                themeIcon.className = 'bi bi-sun-fill';
                themeText.textContent = 'Light';
                localStorage.setItem('preferred-theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.className = 'bi bi-moon-fill';
                themeText.textContent = 'Dark';
                localStorage.setItem('preferred-theme', 'dark');
            }
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('preferred-theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme || (prefersDark ? 'dark' : 'light');
            
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            body.setAttribute('data-theme', theme);
            
            if (theme === 'light') {
                themeIcon.className = 'bi bi-sun-fill';
                themeText.textContent = 'Light';
            } else {
                themeIcon.className = 'bi bi-moon-fill';
                themeText.textContent = 'Dark';
            }
        }

        document.addEventListener('DOMContentLoaded', loadTheme);
    </script>
</body>
</html>